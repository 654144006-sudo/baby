<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>Happy Anniversary üíñ</title>
  <style>
    body {
      font-family: "Prompt", "Arial", sans-serif;
      background: linear-gradient(180deg,#ffd6e8,#ffcfe1);
      margin: 0;
      padding: 0;
    }

    header {
      background: #ff99bb;
      color: #fff;
      padding: 15px;
      font-size: 20px;
      text-align: center;
      font-weight: bold;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    }

    main {
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 25px;
    }

    h2 {
      margin: 10px 0;
      color: #d6336c;
    }

    /* ‡∏Å‡∏≤‡∏£‡πå‡∏î */
    .card {
      background: #fff0f5;
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      max-width: 800px;
      width: 100%;
      text-align: center;
    }

    /* pill */
    .pill {
      display: inline-block;
      background: #ffb6c1;
      padding: 8px 16px;
      margin: 4px;
      border-radius: 20px;
      font-weight: bold;
    }

    /* ‡∏õ‡∏∏‡πà‡∏° */
    button {
      padding: 8px 16px;
      margin: 5px;
      border: none;
      border-radius: 20px;
      background: #ff6699;
      color: white;
      cursor: pointer;
      font-size: 14px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      transition: all 0.2s;
    }
    button:hover {
      background: #ff3366;
      transform: translateY(-2px);
    }

    /* ‡πÑ‡∏ó‡∏°‡πå‡πÑ‡∏•‡∏ô‡πå */
    #timelineList .t {
      background: #ffe4ec;
      margin: 8px auto;
      padding: 12px;
      border-radius: 12px;
      max-width: 500px;
      text-align: left;
    }
    #timelineList time { 
      color: #d6336c; 
      font-weight: bold; 
      margin-right: 8px;
    }

    /* ‡πÅ‡∏Å‡∏•‡πÄ‡∏•‡∏≠‡∏£‡∏µ */
    #galleryGrid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px,1fr));
      gap: 12px;
      margin-top: 10px;
    }
    #galleryGrid img {
      width: 100%;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }

    /* textarea */
    textarea {
      width: 90%;
      height: 100px;
      margin: 10px 0;
      border-radius: 12px;
      padding: 10px;
      border: 1px solid #f5a3c1;
      font-family: inherit;
      resize: none;
    }

    footer {
      margin-top: 40px;
      padding: 20px;
      background: #ff99cc;
      color: white;
      text-align: center;
    }

    /* overlay */
    #overlay {
      position: fixed;
      top:0; left:0;
      width:100%; height:100%;
      background:#fff;
      z-index:9999;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
    }
    #passwordBox { display:none; margin-top:20px; }
    #passwordError { color:red; display:none; margin-top:10px; }

    /* ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏•‡∏≠‡∏¢ */
    .float-heart {
      position: fixed;
      animation: floatUp linear forwards;
    }
    @keyframes floatUp {
      from { transform:translateY(0); opacity:1; }
      to { transform:translateY(-100vh); opacity:0; }
    }
  /* --- existing styles --- */

  /* ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
  /* ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
@media (max-width: 600px) {
  body {
    padding: 10px;
  }

  header {
    font-size: 18px;
    padding: 12px;
  }

  main {
    padding: 10px;
    gap: 15px;
  }

  .card {
    padding: 15px;
    max-width: 100%;
  }

  #galleryGrid {
    grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
    gap: 8px;
  }

  #galleryGrid img,
  #galleryGrid video {
    border-radius: 10px;
  }

  .pill {
    padding: 6px 12px;
    margin: 2px;
    font-size: 12px;
  }

  button {
    padding: 6px 12px;
    font-size: 12px;
  }

  textarea {
    width: 100%;
    height: 80px;
    font-size: 14px;
  }
}

  </style>
</head>
<body>

  <!-- overlay -->
  <div id="overlay">
    <h2 id="overlayCountdown"></h2>
    <div id="passwordBox">
      <input type="password" id="passwordInput" placeholder="‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô">
      <button onclick="checkPassword()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÄ‡∏ß‡πá‡∏ö</button>
      <div id="passwordError">‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</div>
    </div>
  </div>

  <header>
    üíï ‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á <span id="youName"></span> & <span id="herName"></span> üíï
  </header>

  <main>
    <div class="card">
      <h2>‚è≥ ‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á</h2>
      <div id="countdown"></div>
    </div>

    <div class="card">
      <h2>üé∂ ‡πÄ‡∏û‡∏•‡∏á‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤</h2>
      <audio id="bgm" loop></audio>
      <button id="playMusic">‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á</button>
    </div>

    <div class="card">
      <h2>üìú ‡πÑ‡∏ó‡∏°‡πå‡πÑ‡∏•‡∏ô‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å</h2>
      <div id="timelineList"></div>
    </div>

    <div class="card">
      <h2>üì∑ ‡πÅ‡∏Å‡∏•‡πÄ‡∏•‡∏≠‡∏£‡∏µ</h2>
      <div id="galleryGrid"></div>
    </div>

    <div class="card">
      <h2>üíå ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≤‡∏Å‡πÉ‡∏à</h2>
      <textarea id="noteArea" placeholder="‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö‡∏ô‡∏∞‡∏Ñ‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å 2‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏¢‡πâ‡∏ß‡∏ß‡∏ß ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏∞‡πÄ‡∏Ñ‡πâ‡∏≤‡πÑ‡∏õ‡∏ô‡∏≤‡∏ô‡πÜ‡∏ô‡∏∞ ‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏¥‡πâ‡∏á‡πÄ‡∏Ñ‡πâ‡∏≤‡πÑ‡∏õ‡πÑ‡∏´‡∏ô‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î‡∏î‡∏î‡∏î‡∏î‡∏î ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ó‡∏≥‡∏ï‡∏±‡∏ß‡πÑ‡∏°‡πà‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡πÄ‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡πÇ‡∏ó‡∏©‡∏ô‡∏∞‡∏Ñ‡πâ‡∏≤‡∏ö‡∏ö‡∏ö‡∏ö ‡∏£‡∏±‡∏Å‡∏ô‡∏∞‡∏Ñ‡πâ‡∏≤‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å(‡πÅ‡∏´‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏°‡∏≤‡∏Å‡∏Å‡∏Å‡∏Å‡∏Å‡∏Å)üòòü•∞üíñüòò"></textarea><br>
      <button onclick="saveNote()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
      <button onclick="clearNote()">‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</button>
    </div>
  </main>

  <footer>
    ¬© <span id="year"></span> With Love üíñ
  </footer>

  <script>
    // ---- Config ----
    const SITE_PASSWORD = "290668";  
    const YOU_NAME = "‡∏î‡∏µ‡∏°";
    const HER_NAME = "‡πÅ‡∏û‡∏£‡∏ß";
    const ANNIVERSARY = "2025-06-29 23:59:59";
    const MUSIC_FILE = "babymu1.mp3"; 
    const TIMELINE = [
      { date: "2025-05-15", text: "‡πÄ‡∏à‡∏≠‡∏Å‡∏±‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å ‡πÄ‡∏Ç‡∏¥‡∏ô‡∏™‡∏∏‡∏î ‡πÜ" },
      { date: "2025-06-29", text: "‡∏Ñ‡∏ö‡∏Å‡∏±‡∏ö‡πÅ‡∏ü‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ô‡πÅ‡∏£‡∏Å" },
      { date: "2025-07-29", text: "‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö1M" },
      { date: "2025-08-29", text: "‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö2M" },
    ];
    const GALLERY = ["baby01.jpg","baby02.jpg","baby03.jpg","baby04.jpg","baby05.jpg","baby06.jpg","baby07.jpg","baby08.jpg","baby09.jpg","baby10.jpg","baby11.jpg","baby12.jpg"];
    
    const $ = (q) => document.querySelector(q);

    // overlay
    function initOverlay(){
      const countdownBox = document.getElementById("overlayCountdown");
      const passwordBox = document.getElementById("passwordBox");
      function updateOverlay(){
        const target = new Date(ANNIVERSARY.replace(" ", "T"));
        const now = new Date();
        const diff = target - now;
        if(diff > 0){
          const sec = Math.floor(diff/1000)%60;
          const min = Math.floor(diff/1000/60)%60;
          const hr = Math.floor(diff/1000/60/60)%24;
          const day = Math.floor(diff/1000/60/60/24);
          countdownBox.innerHTML = `‡∏≠‡∏µ‡∏Å ${day} ‡∏ß‡∏±‡∏ô ${hr} ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á ${min} ‡∏ô‡∏≤‡∏ó‡∏µ ${sec} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ`;
        } else {
          countdownBox.textContent = "‡∏ñ‡∏∂‡∏á‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß üíñ";
          passwordBox.style.display = "block";
        }
      }
      updateOverlay();
      setInterval(updateOverlay, 1000);
    }

    function checkPassword(){
      const input = document.getElementById("passwordInput").value;
      if(input === SITE_PASSWORD){
        document.getElementById("overlay").style.display = "none";
      } else {
        document.getElementById("passwordError").style.display = "block";
      }
    }

    function initNames(){
      $("#youName").textContent = YOU_NAME;
      $("#herName").textContent = HER_NAME;
      $("#year").textContent = new Date().getFullYear();
    }

    function initMusic(){
      const audio = $("#bgm");
      if(MUSIC_FILE){
        const src = document.createElement("source");
        src.src = `assets/${MUSIC_FILE}`;
        src.type = "audio/mpeg";
        audio.appendChild(src);
      }
      $("#playMusic").addEventListener("click", ()=>{
        if(audio.paused){ audio.play(); $("#playMusic").textContent = "‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏û‡∏•‡∏á"; }
        else { audio.pause(); $("#playMusic").textContent = "‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á"; }
      });
    }

    function initTimeline(){
      const wrap = $("#timelineList");
      TIMELINE.forEach(item => {
        const row = document.createElement("div");
        row.className = "t";
        row.innerHTML = `<time>${item.date}</time><span>${item.text}</span>`;
        wrap.appendChild(row);
      });
    }

    function initGallery(){
      const grid = $("#galleryGrid");
      GALLERY.forEach(name=>{
        const img = document.createElement("img");
        img.src = `assets/${name}`;
        grid.appendChild(img);
      });
    }

    function initCountdown(){
      const box = $("#countdown");
      function update(){
        const target = new Date(ANNIVERSARY.replace(' ','T'));
        const now = new Date();
        const diff = target - now;
        if(diff <= 0){
          box.textContent = "‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö‡∏ô‡πâ‡∏≤ ‚ù§";
          return;
        }
        const sec = Math.floor(diff/1000)%60;
        const min = Math.floor(diff/1000/60)%60;
        const hr = Math.floor(diff/1000/60/60)%24;
        const day = Math.floor(diff/1000/60/60/24);
        box.innerHTML = `
          <div class="pill">‡∏≠‡∏µ‡∏Å ${day} ‡∏ß‡∏±‡∏ô</div>
          <div class="pill">${hr} ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</div>
          <div class="pill">${min} ‡∏ô‡∏≤‡∏ó‡∏µ</div>
          <div class="pill">${sec} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</div>
        `;
      }
      update();
      setInterval(update, 1000);
    }

    function saveNote(){
      localStorage.setItem("love-note", $("#noteArea").value || "");
      alert("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ ‚ù§");
    }
    function clearNote(){
      $("#noteArea").value = "";
      localStorage.removeItem("love-note");
    }
    function loadNote(){
      const saved = localStorage.getItem("love-note");
      if(saved) $("#noteArea").value = saved;
    }

    // ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏•‡∏≠‡∏¢
    function randomBetween(min, max){ return Math.random()*(max-min)+min; }
    function spawnHearts(){
      for(let i=0;i<12;i++){
        const h = document.createElement("img");
        h.className = "float-heart";
        h.src = "assets/heart.svg";
        h.style.left = `${randomBetween(10, 90)}%`;
        h.style.bottom = "-20px";
        h.style.width = `${randomBetween(16, 32)}px`;
        h.style.animationDuration = `${randomBetween(4, 7)}s`;
        document.body.appendChild(h);
        setTimeout(()=> h.remove(), 7000);
      }
    }
    setInterval(spawnHearts, 2000);

    // init
    document.addEventListener("DOMContentLoaded", ()=>{
      initNames();
      initMusic();
      initTimeline();
      initGallery();
      initCountdown();
      loadNote();
      initOverlay();
    });
  </script>
</body>
</html>
